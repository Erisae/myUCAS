#include <stdio.h>
void dfs(int, int, int, int[10][17]); //最后一个是颜色
void printd(int map[10][17]);
int inputs[6];       //2x 3y 4(0,1,2,3上下左右) 5(模型)
int a[5][10][17] = { //不在定义的时候初始化那就无法操作
    {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0},
     {0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0},
     {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
     {0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
     {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0}},

    {{0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0},
     {0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0},
     {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
     {0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
     {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}},

    {{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
     {0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
     {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0}},

    {{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
     {0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
     {0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
     {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0}},

    {{0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0},
     {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0}}};
int main()
{
    int i, c, d;

    //输入
    for (i = 0; i <= 5; i++)
    {
        scanf("%d", &inputs[i]);
        if ((c = getchar()) == '\n')
            break;
    }
    c = a[inputs[5]][inputs[2]][inputs[3]];

    dfs(inputs[2], inputs[3], c, a[inputs[5]]);
    printd(a[inputs[5]]);
    return 0;
}

void dfs(int x, int y, int color, int imap[10][17])
{
    int cc = imap[x][y];
    int i;
    static int dys[4][4] =
        {
            {0, 0, -1, 1},
            {0, -1, 1, 0},
            {-1, 1, 0, 0},
            {1, 0, 0, -1}};
    static int dxs[4][4] =
        {
            {-1, 1, 0, 0},
            {1, 0, 0, -1},
            {0, 0, -1, 1},
            {0, -1, 1, 0}};
    if (cc != color || x < 0 || y < 0 || x >= inputs[0] || y >= inputs[1])
        return;
    imap[x][y] = 2;
    for (i = 0; i < 4; i++)
        dfs(x + dxs[inputs[4]][i], y + dys[inputs[4]][i], color, imap);
}

void printd(int map[10][17])
{
    int i, j;
    for (i = 0; i < inputs[0]; i++)
    {
        for (j = 0; j < inputs[1]; j++)
        {
            if (j < inputs[1] - 1 || (j==inputs[1]-1 && i==inputs[0]-1))
            {
                switch (map[i][j])
                {
                case 0:
                    printf(".");
                    break;

                case 1:
                    printf("#");
                    break;

                case 2:
                    printf("*");
                    break;
                }
            }
            else
            {
                switch (map[i][j])
                {
                case 0:
                    printf(".\n");
                    break;

                case 1:
                    printf("#\n");
                    break;

                case 2:
                    printf("*\n");
                    break;
                }
            }
        }
    }
}